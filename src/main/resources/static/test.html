<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="thirdparty/later/later.min.js" type="text/javascript"></script>
    <script src="js/helper.js" type="text/javascript"></script>
</head>
<body>

</body>
<script>

    var setTime = function (time) {
        var date = null;
        var second = null;
        if(time == null){
            date = new Date();
            second = date.getSeconds();
            second = (second < 10) ? '0' + second : second;
        }else {
            date = later.schedule(time).next(1);
            second = '00';
        }
        var hour = date.getHours();
        hour = (hour < 10) ? '0' + hour : hour;
        var minute = date.getMinutes();
        minute = (minute < 10) ? '0' + minute : minute;
        return hour + ':' + minute + ':' +second;
    }

    function logTime() {
        time = setTime(later.parse.text('every 1 mins on the 0 sec'))
        console.log(time);
    }
    window.onload = function () {

        var textSched = later.parse.text('every 1 mins on the 0 sec');
        //console.log('textSched=' + textSched)
        var timer2 = later.setInterval(logTime, textSched);
        //console.log('timer2=' + timer2)

    }

    var handlerTime = function () {
        var date = new Date();
        var hour = date.getHours();
        var minute = date.getMinutes().toString();
        if(minute.length === 2){
            var subMin = minute.substring(1);
            var intMin = parseInt(subMin);
            if(intMin >=5 && intMin <10){
                subMin = 0;
                minute = parseInt(minute.substring(0,1))+1;
                if(minute === 6){
                    minute = '00';
                    hour = new Date().addHours(1).getHours()
                }else{
                    minute += subMin;
                }
            }else {
                subMin = 5;
                minute = parseInt(minute.substring(0,1))+subMin;
            }
        }else {
            var intMin = parseInt(minute)
            if(intMin >=5 && intMin <10){
                minute = '10'
            }else {
                minute = '05';
            }
        }
        console.log('hour='+date.getHours());
        console.log('minute='+date.getMinutes().toString().length)
        console.log('second=' + date.getSeconds())
        console.log('*************************************')
        return 'time='+ hour+':'+minute+':'+'00';
    }


</script>
</html>